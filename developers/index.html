<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.104.3"><meta name=description content="Documentation website for the daochook project."><meta name=author content="atom0s"><link rel="shortcut icon" href=/images/favicon.png type=image/x-icon><title>Developers â€¢ daochook Documentation</title><link href=/css/nucleus.css?1664956411 rel=stylesheet><link href=/css/fontawesome-all.min.css?1664956411 rel=stylesheet><link href=/css/hybrid.css?1664956411 rel=stylesheet><link href=/css/featherlight.min.css?1664956411 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1664956411 rel=stylesheet><link href=/css/auto-complete.css?1664956411 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1664956411 rel=stylesheet><link href=/css/theme.css?1664956411 rel=stylesheet><link href=/css/tabs.css?1664956411 rel=stylesheet><link href=/css/hugo-theme.css?1664956411 rel=stylesheet><link href=/css/theme-daochook.css?1664956411 rel=stylesheet><script src=/js/jquery-3.6.1.min.js?1664956411></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}:not(pre)>code+span.copy-to-clipboard{display:none}</style></head><body data-url=/developers/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=/><div style=display:flex;align-items:center><img src=/images/daochook.png width=64>
<span style=font-weight:700;font-size:1.5em;color:#fff;padding-top:15px>daochook</span></div></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1664956411></script>
<script type=text/javascript src=/js/auto-complete.js?1664956411></script>
<script type=text/javascript>var baseurl="https://daochook.github.io/"</script><script type=text/javascript src=/js/search.js?1664956411></script></div><section id=homelinks><ul><li><a class=padding href=/><i class='fas fa-home'></i> Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/features/ title=Features class=dd-item><a href=/features/>Features
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/installation/ title="Download & Install" class=dd-item><a href=/installation/>Download & Install
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/installation/system_requirements/ title="System Requirements" class=dd-item><a href=/installation/system_requirements/>System Requirements
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/installation/install_git/ title="Install via Git (Recommended)" class=dd-item><a href=/installation/install_git/>Install via Git (Recommended)
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/installation/install_zip/ title="Install via Zip" class=dd-item><a href=/installation/install_zip/>Install via Zip
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/usage/ title=Usage class=dd-item><a href=/usage/>Usage
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/usage/configurations/ title="Configuring daochook" class=dd-item><a href=/usage/configurations/>Configurations
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/usage/running/ title="Running daochook" class=dd-item><a href=/usage/running/>Running daochook
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/usage/commands/ title="In-Game Commands" class=dd-item><a href=/usage/commands/>In-Game Commands
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/developers/ title=Developers class="dd-item
active"><a href=/developers/>Developers
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/developers/creating_addons/ title="Creating Addons" class=dd-item><a href=/developers/creating_addons/>1. Creating Addons
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developers/addon_table/ title="Addon Table Information" class=dd-item><a href=/developers/addon_table/>2. Addon Table Information
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developers/events/ title=Events class=dd-item><a href=/developers/events/>3. Events
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developers/namespaces/ title="Functions & Namespaces" class=dd-item><a href=/developers/namespaces/>4. Functions & Namespaces
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/developers/namespaces/bits/ title=bits class=dd-item><a href=/developers/namespaces/bits/>bits
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developers/namespaces/events/ title=events class=dd-item><a href=/developers/namespaces/events/>events
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developers/namespaces/extensions/ title=extensions class=dd-item><a href=/developers/namespaces/extensions/>extensions
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developers/namespaces/filesystem/ title="fs (File System)" class=dd-item><a href=/developers/namespaces/filesystem/>fs (File System)
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developers/namespaces/game/ title=game class=dd-item><a href=/developers/namespaces/game/>game
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developers/namespaces/hook/ title=hook class=dd-item><a href=/developers/namespaces/hook/>hook
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developers/namespaces/imgui/ title=imgui class=dd-item><a href=/developers/namespaces/imgui/>imgui
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developers/namespaces/memory/ title=memory class=dd-item><a href=/developers/namespaces/memory/>memory
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developers/namespaces/misc/ title=misc class=dd-item><a href=/developers/namespaces/misc/>misc
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developers/namespaces/regex/ title=regex class=dd-item><a href=/developers/namespaces/regex/>regex
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developers/namespaces/tasks/ title=tasks class=dd-item><a href=/developers/namespaces/tasks/>tasks
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developers/namespaces/time/ title=time class=dd-item><a href=/developers/namespaces/time/>time
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/developers/libraries/ title=Libraries class=dd-item><a href=/developers/libraries/>5. Libraries
<i class="fas fa-check read-icon"></i></a></li></ul></li></ul><section id=shortcuts><h3>Project Links</h3><ul><li><a class=padding href=https://discord.gg/mkfP3XkZZ2><i class='fa-brands fa-discord'></i> Discord Chat</a></li><li><a class=padding href=https://github.com/daochook/daochook.github.io><i class='fab fa-fw fa-github'></i> Documentation Repo</a></li><li><a class=padding href=https://github.com/daochook/daochook><i class='fab fa-fw fa-github'></i> Releases Repo</a></li><li><a class=padding href=https://daochook.github.io/credits><i class='fas fa-fw fa-bullhorn'></i> Credits</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title='Edit this page' href=https://github.com/daochook/daochook.github.io/edit/main/content/developers/_index.md target=blank><i class="fas fa-code-branch"></i>
<span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/>Index</a> > Developers</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#what-is-lua>What is Lua?</a></li><li><a href=#what-are-addons>What are addons?</a></li><li><a href=#how-do-addons-work>How do addons work?</a></li><li><a href=#additional-lua-information>Additional Lua Information</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Developers</h1><p><strong>daochook</strong> allows anyone to further expand on its features through its custom addon system. Addons are powered by Lua <em>(more specifically, LuaJIT via MoonJIT)</em>.</p><h3 id=what-is-lua>What is Lua?</h3><p>Lua is a powerful, fast and lightweight scripting language that can be embedded into nearly any kind of project.</p><p>Lua combines simple procedural syntax with powerful data description constructs based on associative arrays and extensible semantics. Lua is dynamically typed, runs by interpreting bytecode for a register-based virtual machine, and has automatic memory management with incremental garbage collection, making it ideal for configuration, scripting, and rapid prototyping.</p><p><strong>daochook</strong> makes use of LuaJIT, via the fork called MoonJIT. You can find more information about each of these projects here:</p><ul><li><strong>Lua</strong>: <a href=http://www.lua.org/about.html>http://www.lua.org/about.html</a></li><li><strong>LuaJIT</strong>: <a href=https://luajit.org/>https://luajit.org/</a></li><li><strong>MoonJIT</strong>: <a href=https://github.com/moonjit/moonjit>https://github.com/moonjit/moonjit</a></li></ul><h3 id=what-are-addons>What are addons?</h3><p>Addons are individual isolated/sandboxed instances of a Lua state that loads/runs a given base Lua script. This script will remain loaded until it either is manually unloaded by the player or told to unload otherwise by other means. <em>(ie. If another addon tells it to unload, or it has an error etc.)</em> Addons generally function by registering to predefined events exposed by <strong>daochook</strong> which allows them to react to various things. An addon can also do something as simple as patching part of the game client when it loads and then nothing else for the duration that it is loaded.</p><p>Because addons have the potential to throw an error, they are ran in isolated/sandboxed instances of Lua. This means that every loaded addon has its own Lua state. Addons are considered &lsquo;dumb&rsquo; in the sense that they are not aware of another addon being loaded/existing because of this sandboxed setup. If an addon throws an error, instead of causing all addons to stop working, it simply causes only the single addon that errored to stop.</p><p><strong>daochook</strong> exposes a large amount of helpful functions to each addon that implements various things such as:</p><ul><li>Access to certain game functions.</li><li>Access to game memory through read/write helpers.</li><li>Access to additional file IO helpers.</li><li>Access to additional regex helpers.</li><li>Access to additional time related helpers.</li><li>And more!</li></ul><p>Since <strong>daochook</strong> is also using LuaJIT, addons have access to its FFI library, which even further greatly expands on the features that addons can make use of. FFI, which stands for foreign function interface, allows you to make use of calling external C functions, using C data structures, and casting direct memory to function definitions / memory structures all from within Lua. This greatly enhances what can be done from an addon.</p><h3 id=how-do-addons-work>How do addons work?</h3><p>As mentioned above, addons run isolated in their own Lua state. Once an addon is loaded, any time a predefined event occurs within <strong>daochook</strong>, the event will then be forwarded and raised in all loaded addons that have registered to the given event.</p><p>For example, an event that <strong>daochook</strong> exposes is <code>command</code>. This event is raised any time the game client is attempting to process a command that was sent to the games internal command handler. <em>(ie. When typing into the chat box, using a &lsquo;slash&rsquo; command such as <code>/wave</code>, using a macro, etc.)</em></p><p>When the event is raised, it will be passed to <strong>daochook</strong>&rsquo;s internal addon manager, which then loops through all loaded addons, and raises the event inside each addon that has a valid registered event callback for the event. <em>Addons can register to an event multiple times if needed as well.</em></p><p>These events allow addons to react to various aspects of the game.</p><h3 id=additional-lua-information>Additional Lua Information</h3><p>Whether you are new to Lua or a seasoned pro, here are some links to help get you started or freshen up on your Lua knowledge.</p><h4 id=lua-project-links>Lua Project Links</h4><ul><li><strong>Lua Manual 5.1:</strong> <a href=http://www.lua.org/manual/5.1/>http://www.lua.org/manual/5.1/</a></li><li><strong>Lua Manual 5.2:</strong> <a href=http://www.lua.org/manual/5.2/>http://www.lua.org/manual/5.2/</a></li><li><strong>Lua Manual 5.3:</strong> <a href=http://www.lua.org/manual/5.3/>http://www.lua.org/manual/5.3/</a><ul><li><em><strong>Note:</strong> MoonJIT, which is used within <strong>daochook</strong> implements LuaJIT with parts of Lua 5.2 and 5.3 added. Not all features of 5.2/5.3 are available though.</em></li></ul></li><li><strong>Programming In Lua (EBook):</strong> <a href=http://www.lua.org/pil/contents.html>http://www.lua.org/pil/contents.html</a></li><li><strong>Lua Wiki:</strong> <a href=http://lua-users.org/wiki/>http://lua-users.org/wiki/</a></li><li><strong>Lua Wiki Tutorial List:</strong> <a href=http://lua-users.org/wiki/TutorialDirectory>http://lua-users.org/wiki/TutorialDirectory</a></li><li><strong>Lua Mailing List:</strong> <a href=http://www.lua.org/lua-l.html>http://www.lua.org/lua-l.html</a></li><li><strong>Lua Forums:</strong> <a href=https://luaforum.com/index.php>https://luaforum.com/index.php</a></li></ul><h4 id=lua-tips-and-tricks--performance-information>Lua Tips and Tricks / Performance Information</h4><ul><li><a href=http://www.lua.org/gems/sample.pdf>http://www.lua.org/gems/sample.pdf</a></li><li><a href=http://lua-users.org/wiki/OptimisationTips>http://lua-users.org/wiki/OptimisationTips</a></li><li><a href=https://web.archive.org/web/20100609035807/https://stackoverflow.com/questions/89523/lua-patterns-tips-and-tricks>https://web.archive.org/web/20100609035807/https://stackoverflow.com/questions/89523/lua-patterns-tips-and-tricks</a></li><li><a href=https://stackoverflow.com/questions/154672/what-can-i-do-to-increase-the-performance-of-a-lua-program/12865406#12865406>https://stackoverflow.com/questions/154672/what-can-i-do-to-increase-the-performance-of-a-lua-program/12865406#12865406</a></li></ul><h4 id=metatables>Metatables</h4><ul><li><a href=http://www.lua.org/pil/13.html>http://www.lua.org/pil/13.html</a></li><li><a href=http://phrogz.net/lua/LearningLua_MetatableEvents.html>http://phrogz.net/lua/LearningLua_MetatableEvents.html</a></li><li><a href=http://phrogz.net/lua/LearningLua_ValuesAndMetatables.html>http://phrogz.net/lua/LearningLua_ValuesAndMetatables.html</a></li><li><a href=http://www.dreamincode.net/forums/topic/175747-lua-metatables-tutorial/>http://www.dreamincode.net/forums/topic/175747-lua-metatables-tutorial/</a></li></ul><h4 id=examples--tutorials>Examples / Tutorials</h4><ul><li><a href=http://lua-users.org/wiki/SampleCode>http://lua-users.org/wiki/SampleCode</a></li><li><a href=http://lua-users.org/wiki/TutorialDirectory>http://lua-users.org/wiki/TutorialDirectory</a></li></ul><footer class=footline></footer></div></div><div id=navigation></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1664956411></script>
<script src=/js/perfect-scrollbar.min.js?1664956411></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1664956411></script>
<script src=/js/jquery.sticky.js?1664956411></script>
<script src=/js/featherlight.min.js?1664956411></script>
<script src=/js/highlight.pack.js?1664956411></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1664956411></script>
<script src=/js/learn.js?1664956411></script>
<script src=/js/hugo-learn.js?1664956411></script></body></html>